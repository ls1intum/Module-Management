<p-panel [toggleable]="false">
  <ng-template pTemplate="header">
    <div class="flex flex-col">
      <h3 class="text-xl font-semibold">Passkeys</h3>
      <p class="text-sm text-muted-foreground mt-1">Manage your passkeys for passwordless authentication</p>
    </div>
  </ng-template>
  <div class="py-4">
    @if (passkeys().length === 0) {
    <div class="flex flex-col items-center">
      <i class="pi pi-key text-muted-foreground mb-4" style="font-size: 4rem"></i>
      <p class="text-muted-foreground mb-4">No passkeys registered yet.</p>
      <p class="text-sm text-muted-foreground mb-6">Passkeys allow you to sign in securely without a password using your device's biometric authentication or security key.</p>
      <p-button (onClick)="addPasskey()" icon="pi pi-plus" label="Add Passkey" severity="contrast" />
    </div>
    } @else {
    <div class="space-y-4">
      @for (passkey of passkeys(); track passkey.id) {
      <div class="flex justify-between p-4 border rounded-lg">
        <div class="flex items-center gap-4">
          <i class="pi pi-key text-xl text-muted-foreground"></i>
          <div>
            <p class="font-medium">{{ passkey.name || 'Unnamed Passkey' }}</p>
            <p class="text-sm text-muted-foreground">{{ passkey.createdAt | date }}</p>
          </div>
        </div>
        <p-button (onClick)="deletePasskey(passkey.id)" icon="pi pi-trash" label="Delete" [text]="true" severity="danger" size="small" />
      </div>
      }
    </div>
    <div class="pt-6">
      <p-button (onClick)="addPasskey()" icon="pi pi-plus" label="Add Another Passkey" severity="contrast" [outlined]="true" />
    </div>
    }
  </div>
</p-panel>
